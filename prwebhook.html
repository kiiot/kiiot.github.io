<!DOCTYPE html><html><head><title>領還機 Webhook 格式說明</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h1 id="領還機-webhook-格式說明">領還機 Webhook 格式說明</h1>

<p><strong>領機Webhook格式範例 </strong></p>

<ul><li><p>secret: 根據Admin Portal設定的密碼，在Webhook 傳送資料時，會以<code>secret</code>傳送，供第三方程式驗證資料來源是否為<strong>IIOT平台</strong></p></li>
<li><p>events: 領機的event為<code>opage-checkin</code></p></li>
<li>data: 傳送的資料內容，領機資料內容包含了： <br>
<ul>
<li>products: 此訂單所綁定的產品，會根據產品種類區分</li>
<li>remove: 若此訂單更新後，有產品解除綁定，會被放在remove，供第三方程式同步狀態</li>
<li>operator: 處理此取機訂單的人員</li>
<li>remark: 領機備註</li>
<li>orderNo: 訂單編號</li>
<li>counterId: 領機櫃檯id</li></ul></li>
<li>ts: 領機時間(ms)</li>
</ul>

<pre class="prettyprint hljs-dark"><code class="hljs json"> {<br>     "<span class="hljs-attribute">secret</span>": <span class="hljs-value"><span class="hljs-string">"12345"</span></span>,<br>     "<span class="hljs-attribute">events</span>": <span class="hljs-value"><span class="hljs-string">"opage-checkin"</span></span>,<br>     "<span class="hljs-attribute">data</span>": <span class="hljs-value">{<br>         "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{<br>             "<span class="hljs-attribute">supplier</span>": <span class="hljs-value"><span class="hljs-string">"GOWIFI"</span></span>,<br>             "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"GOWIFI日本"</span></span>,<br>             "<span class="hljs-attribute">serialNos</span>": <span class="hljs-value">[<span class="hljs-string">"GOWIFI01"</span>, <span class="hljs-string">"GOWIFI02"</span>]<br>         </span>}, {<br>             "<span class="hljs-attribute">supplier</span>": <span class="hljs-value"><span class="hljs-string">"KKADD"</span></span>,<br>             "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"KKWIFI"</span></span>,<br>             "<span class="hljs-attribute">serialNos</span>": <span class="hljs-value">[<span class="hljs-string">"KKADD01"</span>]<br>         </span>}]</span>,<br>         "<span class="hljs-attribute">remove</span>": <span class="hljs-value">[{<br>             "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"GOWIFI日本"</span></span>,<br>             "<span class="hljs-attribute">supplier</span>": <span class="hljs-value"><span class="hljs-string">"GOWIFI"</span></span>,<br>             "<span class="hljs-attribute">serialNos</span>": <span class="hljs-value">[<span class="hljs-string">"OLD1"</span>]<br>         </span>}, {<br>             "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"JETFI"</span></span>,<br>             "<span class="hljs-attribute">supplier</span>": <span class="hljs-value"><span class="hljs-string">"JETFI日本"</span></span>,<br>             "<span class="hljs-attribute">serialNos</span>": <span class="hljs-value">[<span class="hljs-string">"OLD2"</span>]<br>         </span>}]</span>,<br>         "<span class="hljs-attribute">checkinAccount</span>": <span class="hljs-value"><span class="hljs-string">"office"</span></span>,<br>         "<span class="hljs-attribute">remark</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,<br>         "<span class="hljs-attribute">orderNo</span>": <span class="hljs-value"><span class="hljs-string">"401478069139087"</span></span>,<br>         "<span class="hljs-attribute">counterId</span>": <span class="hljs-value"><span class="hljs-string">"t2-5"</span><br>     </span>}</span>,<br>     "<span class="hljs-attribute">ts</span>": <span class="hljs-value"><span class="hljs-number">1484392667488</span><br> </span>}<br></code></pre>

<p><strong>還機Webhook範例</strong></p>

<ul><li><p>secret: 根據Admin Portal設定的密碼，在Webhook 傳送資料時，會以<code>secret</code>傳送，供第三方程式驗證資料來源是否為<strong>IIOT平台</strong></p></li>
<li><p>events: 領機的event為<code>opage-checkout</code></p></li>
<li>data: 傳送的資料內容，領機資料內容包含了： <br>
<ul>
<li>vendor: 上傳廠商帳戶</li>
<li>serialNo: 產品序號</li>
<li>supplier: 產品供應商</li>
<li>orderNo: 產品關聯訂單號</li>
<li>label: 產品名稱</li>
<li>operator: 還機處理人員</li>
<li>issues: 產品損壞列表</li>
<li>remark: 還機備註</li>
<li>status: 產品狀態</li>
<li>counterId: 還機櫃檯id</li></ul></li>
<li>ts: 領機時間(ms)</li>
</ul>

<pre class="prettyprint hljs-dark"><code class="hljs json">{<br>    "<span class="hljs-attribute">secret</span>": <span class="hljs-value"><span class="hljs-string">"test"</span></span>,<br>    "<span class="hljs-attribute">events</span>": <span class="hljs-value"><span class="hljs-string">"opage-checkout"</span></span>,<br>    "<span class="hljs-attribute">data</span>": <span class="hljs-value">{<br>        "<span class="hljs-attribute">vendor</span>": <span class="hljs-value"><span class="hljs-string">"root@1"</span></span>,<br>        "<span class="hljs-attribute">serialNo</span>": <span class="hljs-value"><span class="hljs-string">"TEST123456"</span></span>,<br>        "<span class="hljs-attribute">supplier</span>": <span class="hljs-value"><span class="hljs-string">"TESTWIFI"</span></span>,<br>        "<span class="hljs-attribute">orderNo</span>": <span class="hljs-value"><span class="hljs-string">"m17011101"</span></span>,<br>        "<span class="hljs-attribute">label</span>": <span class="hljs-value"><span class="hljs-string">"TESTWIFI Japan"</span></span>,<br>        "<span class="hljs-attribute">operator</span>": <span class="hljs-value"><span class="hljs-string">"gowifi"</span></span>,<br>        "<span class="hljs-attribute">issues</span>": <span class="hljs-value"><span class="hljs-literal">null</span></span>,<br>        "<span class="hljs-attribute">remark</span>": <span class="hljs-value"><span class="hljs-literal">null</span></span>,<br>        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"RETURN"</span></span>,<br>        "<span class="hljs-attribute">counterId</span>": <span class="hljs-value"><span class="hljs-string">"gowifioffice-6"</span><br>    </span>}</span>,<br>    "<span class="hljs-attribute">ts</span>": <span class="hljs-value"><span class="hljs-number">1484314172919</span><br></span>}<br></code></pre></div></body></html>